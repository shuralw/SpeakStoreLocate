<div class="feature-flags-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <mat-icon>flag</mat-icon>
        Feature Flags
      </mat-card-title>
      <mat-card-subtitle>Hidden route (nur wenn man die URL kennt)</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="flag-row">
        <div class="flag-text">
          <div class="name">Audio: lokal speichern statt Backend</div>
          <div class="desc">
            Speichert die Aufnahme als Datei (für STT-Testassets) und ruft das Backend nicht auf.
          </div>
        </div>

        <mat-slide-toggle
          [checked]="flags.localSaveInsteadOfBackend"
          (change)="onLocalSaveChanged($event.checked)">
          {{ flags.localSaveInsteadOfBackend ? 'AN' : 'AUS' }}
        </mat-slide-toggle>
      </div>

      <div class="flag-row" style="margin-top: 14px;">
        <div class="flag-text">
          <div class="name">Archivierte Uploads anzeigen</div>
          <div class="desc">
            Zeigt am Seitenende den Archiv-Bereich inkl. Aktionen (löschen/queue/download), ohne das Archivieren selbst zu beeinflussen.
          </div>
        </div>

        <mat-slide-toggle
          [checked]="flags.showArchivedUploadsUi"
          (change)="onShowArchivedUploadsUiChanged($event.checked)">
          {{ flags.showArchivedUploadsUi ? 'AN' : 'AUS' }}
        </mat-slide-toggle>
      </div>

      <div class="flag-row" style="margin-top: 8px;">
        <div class="flag-text">
          <div class="name">Archiv: Download erlauben</div>
          <div class="desc">
            Aktiviert den Button zum Herunterladen archivierter Audios.
          </div>
        </div>

        <mat-slide-toggle
          [checked]="flags.enableArchivedDownloads"
          (change)="onEnableArchivedDownloadsChanged($event.checked)">
          {{ flags.enableArchivedDownloads ? 'AN' : 'AUS' }}
        </mat-slide-toggle>
      </div>

      <div class="flag-row" style="margin-top: 8px;">
        <div class="flag-text">
          <div class="name">Archiv: Requeue erlauben</div>
          <div class="desc">
            Aktiviert den Button, der archivierte Uploads wieder in die Queue holt.
          </div>
        </div>

        <mat-slide-toggle
          [checked]="flags.enableArchivedRequeue"
          (change)="onEnableArchivedRequeueChanged($event.checked)">
          {{ flags.enableArchivedRequeue ? 'AN' : 'AUS' }}
        </mat-slide-toggle>
      </div>

      <div class="hint">
        Route: <code>/__flags</code>
      </div>
    </mat-card-content>
  </mat-card>
</div>
